<ResourceDictionary
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:media="using:Microsoft.UI.Xaml.Media">

    <!-- App Primary Color Brush - used throughout the app for accent color -->
    <SolidColorBrush x:Key="AppPrimaryColorBrush" Color="{ThemeResource SystemAccentColor}" />

    <!-- Consolidated page title style used by all pages -->
    <Style x:Key="PageTitleTextStyle" TargetType="TextBlock">
        <Setter Property="Foreground" Value="{StaticResource AppPrimaryColorBrush}" />
        <Setter Property="FontSize" Value="28" />
        <Setter Property="FontWeight" Value="SemiBold" />
        <Setter Property="VerticalAlignment" Value="Center" />
    </Style>

    <!-- Windows 11 style acrylic brush. -->
    <media:AcrylicBrush
        x:Key="Win11AcrylicBrush"
        FallbackColor="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}"
        TintColor="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}"
        TintLuminosityOpacity="0.15"
        TintOpacity="0.15" />

    <!-- Windows 10 compatible acrylic brush. -->
    <SolidColorBrush
        x:Key="Win10AcrylicBrush"
        Opacity="0.98"
        Color="{ThemeResource SolidBackgroundFillColorBase}" />

    <!-- No transparency brush. -->
    <SolidColorBrush
        x:Key="NonTransparentBrush"
        Color="{ThemeResource SolidBackgroundFillColorBase}" />

    <!--
    Consolidated animated accent button style.
    Used by: OnboardingPage, SettingsPage, FolderPage, PlaylistPage
    Pages can extend this with BasedOn for any custom variations.
    -->
    <Style x:Key="AnimatedAccentButtonStyle" TargetType="Button" BasedOn="{StaticResource AccentButtonStyle}">
        <Setter Property="Padding" Value="16,10" />
        <Setter Property="CornerRadius" Value="12" />
    </Style>

    <!--
    Consolidated animated GridViewItem style with tilt and scale animations.
    Used by: AlbumPage, ArtistPage, FolderPage, GenrePage, PlaylistPage
    -->
    <Style x:Key="AnimatedGridViewItemStyle" TargetType="GridViewItem">
        <Setter Property="HorizontalContentAlignment" Value="Stretch" />
        <Setter Property="VerticalContentAlignment" Value="Stretch" />
        <Setter Property="Margin" Value="4" />
        <Setter Property="Padding" Value="0" />
        <Setter Property="UseSystemFocusVisuals" Value="True" />
        <Setter Property="FocusVisualMargin" Value="-2" />
    </Style>

    <!--
      Global theme overrides to ensure ListView selection indicators use the app's accent color.
      Both Default (dark) and Light themes need separate entries for the overrides to apply in both modes.
      ThemeDictionaries MUST be placed at the end of the ResourceDictionary.
    -->
    <ResourceDictionary.ThemeDictionaries>
        <ResourceDictionary x:Key="Default">
            <!-- ListView/ListViewItem selection indicator (the pill/strip on the left) - all states -->
            <StaticResource x:Key="ListViewItemSelectionIndicatorBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorPointerOverBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorPressedBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorDisabledBrush" ResourceKey="AppPrimaryColorBrush" />

            <!-- TextBox focused underline override -->
            <LinearGradientBrush x:Key="TextControlElevationBorderFocusedBrush" MappingMode="Absolute" StartPoint="0,0" EndPoint="0,2">
                <LinearGradientBrush.RelativeTransform>
                    <ScaleTransform ScaleY="-1" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.0" Color="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}" />
                <GradientStop Offset="1.0" Color="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}" />
                <GradientStop Offset="1.0" Color="{ThemeResource ControlStrokeColorDefault}" />
            </LinearGradientBrush>
            <StaticResource x:Key="TextControlBorderBrushFocused" ResourceKey="TextControlElevationBorderFocusedBrush" />
            <StaticResource x:Key="TextBoxBorderBrushFocused" ResourceKey="AppPrimaryColorBrush" />

            <!-- HyperlinkButton foreground overrides -->
            <StaticResource x:Key="HyperlinkButtonForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="HyperlinkButtonForegroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="HyperlinkButtonForegroundPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- ComboBox dropdown selection indicator (the pill for the selected item) -->
            <StaticResource x:Key="ComboBoxItemPillFillBrush" ResourceKey="AppPrimaryColorBrush" />

            <!-- ToggleSwitch accent color overrides -->
            <StaticResource x:Key="ToggleSwitchFillOn" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ToggleSwitchFillOnPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ToggleSwitchFillOnPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- ProgressBar and ProgressRing overrides -->
            <StaticResource x:Key="ProgressBarForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ProgressBarIndeterminateForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ProgressRingForeground" ResourceKey="AppPrimaryColorBrush" />

            <!-- CheckBox and RadioButton selection colors -->
            <StaticResource x:Key="CheckBoxFillOn" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="CheckBoxFillOnPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="CheckBoxFillOnPressed" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFill" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFillPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFillPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- Text selection highlight color -->
            <StaticResource x:Key="TextSelectionHighlightColor" ResourceKey="AppPrimaryColorBrush" />

            <!-- Accent Button overrides -->
            <StaticResource x:Key="AccentButtonBackground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="AccentButtonBackgroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="AccentButtonBackgroundPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- Inline Hyperlink overrides -->
            <StaticResource x:Key="TextControlHyperlinkForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="TextControlHyperlinkForegroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="TextControlHyperlinkForegroundPressed" ResourceKey="AppPrimaryColorBrush" />
        </ResourceDictionary>
        <ResourceDictionary x:Key="Light">
            <!-- Same overrides for light theme -->
            <StaticResource x:Key="ListViewItemSelectionIndicatorBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorPointerOverBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorPressedBrush" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ListViewItemSelectionIndicatorDisabledBrush" ResourceKey="AppPrimaryColorBrush" />

            <!-- TextBox focused underline override -->
            <LinearGradientBrush x:Key="TextControlElevationBorderFocusedBrush" MappingMode="Absolute" StartPoint="0,0" EndPoint="0,2">
                <LinearGradientBrush.RelativeTransform>
                    <ScaleTransform ScaleY="-1" CenterY="0.5" />
                </LinearGradientBrush.RelativeTransform>
                <GradientStop Offset="0.0" Color="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}" />
                <GradientStop Offset="1.0" Color="{Binding Color, Source={StaticResource AppPrimaryColorBrush}}" />
                <GradientStop Offset="1.0" Color="{ThemeResource ControlStrokeColorDefault}" />
            </LinearGradientBrush>
            <StaticResource x:Key="TextControlBorderBrushFocused" ResourceKey="TextControlElevationBorderFocusedBrush" />
            <StaticResource x:Key="TextBoxBorderBrushFocused" ResourceKey="AppPrimaryColorBrush" />

            <!-- HyperlinkButton foreground overrides -->
            <StaticResource x:Key="HyperlinkButtonForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="HyperlinkButtonForegroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="HyperlinkButtonForegroundPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- ComboBox dropdown selection indicator (the pill for the selected item) -->
            <StaticResource x:Key="ComboBoxItemPillFillBrush" ResourceKey="AppPrimaryColorBrush" />

            <!-- ToggleSwitch accent color overrides -->
            <StaticResource x:Key="ToggleSwitchFillOn" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ToggleSwitchFillOnPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ToggleSwitchFillOnPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- ProgressBar and ProgressRing overrides -->
            <StaticResource x:Key="ProgressBarForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ProgressBarIndeterminateForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="ProgressRingForeground" ResourceKey="AppPrimaryColorBrush" />

            <!-- CheckBox and RadioButton selection colors -->
            <StaticResource x:Key="CheckBoxFillOn" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="CheckBoxFillOnPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="CheckBoxFillOnPressed" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFill" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFillPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="RadioButtonOuterEllipseCheckedFillPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- Text selection highlight color -->
            <StaticResource x:Key="TextSelectionHighlightColor" ResourceKey="AppPrimaryColorBrush" />

            <!-- Accent Button overrides -->
            <StaticResource x:Key="AccentButtonBackground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="AccentButtonBackgroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="AccentButtonBackgroundPressed" ResourceKey="AppPrimaryColorBrush" />

            <!-- Inline Hyperlink overrides -->
            <StaticResource x:Key="TextControlHyperlinkForeground" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="TextControlHyperlinkForegroundPointerOver" ResourceKey="AppPrimaryColorBrush" />
            <StaticResource x:Key="TextControlHyperlinkForegroundPressed" ResourceKey="AppPrimaryColorBrush" />
        </ResourceDictionary>
        <ResourceDictionary x:Key="HighContrast">
            <!-- High contrast uses system colors, no overrides needed -->
        </ResourceDictionary>
    </ResourceDictionary.ThemeDictionaries>

</ResourceDictionary>
